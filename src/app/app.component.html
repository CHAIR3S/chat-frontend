
<!-- <router-outlet /> -->


<div class="flex min-h-screen w-full">
  <div class="hidden border-r bg-muted/40 lg:block">
    <div class="flex h-full max-h-screen flex-col gap-2">
      <div class="flex h-[60px] items-center border-b px-6">
        <a routerLink="#" class="flex items-center gap-2 font-semibold" prefetch={false}>
          <!-- <MessageSquareIcon class="h-6 w-6" /> -->

          <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          strokeWidth="2"
          strokeLinecap="round"
          strokeLinejoin="round"
        >
          <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" />
        </svg>


          <span class="">Chat App</span>
        </a>
        <Button variant="outline" size="icon" class="ml-auto h-8 w-8" (click)="subscribeSocket()">
          <!-- <SearchIcon class="h-4 w-4" /> -->
          <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          strokeWidth="2"
          strokeLinecap="round"
          strokeLinejoin="round"
        >
          <circle cx="11" cy="11" r="8" />
          <path d="m21 21-4.3-4.3" />
        </svg>
          <span class="sr-only">Search</span>
        </Button>
      </div>
      <div class="flex-1 overflow-auto py-2">
        <nav class="grid gap-1 px-4 text-sm font-medium">
          <!-- <a
            routerLink="#"
            class="flex items-center gap-3 rounded-lg bg-muted px-3 py-2 text-primary transition-all hover:text-primary"
            prefetch={false}
          > -->
            <!-- <Avatar class="w-8 h-8 border">
              <AvatarImage src="/placeholder-user.jpg" alt="Image" />
              <AvatarFallback>JD</AvatarFallback>
            </Avatar> -->
            <div class="avatar" (click)="sendMessageSocket()">
              <img *ngIf="imageUrl; else fallback" [src]="imageUrl" alt="User Image" class="avatar-image" />
              <ng-template #fallback>
                <!-- Renderiza el SVG directamente en el template -->
                <div [innerHTML]="fallbackSvg" class="avatar-image"></div>
              </ng-template>
            </div>




            <div class="flex-1 overflow-hidden">
              <div class="font-medium truncate">John Doe</div>
              <div class="text-muted-foreground truncate">Hey, how's it going?</div>
            </div>
            <!-- <Badge class="bg-primary text-primary-foreground">3</Badge> -->
          <!-- </a> -->
          <a
            routerLink="#"
            class="flex items-center gap-3 rounded-lg px-3 py-2 text-muted-foreground transition-all hover:text-primary"
            prefetch={false}
          >
            <!-- <Avatar class="w-8 h-8 border">
              <AvatarImage src="/placeholder-user.jpg" alt="Image" />
              <AvatarFallback>SA</AvatarFallback>
            </Avatar> -->
            <div class="flex-1 overflow-hidden">
              <div class="font-medium truncate">Sarah Adams</div>
              <div class="text-muted-foreground truncate">Sounds good, let's discuss later.</div>
            </div>
          </a>
          <a
            routerLink="#"
            class="flex items-center gap-3 rounded-lg px-3 py-2 text-muted-foreground transition-all hover:text-primary"
            prefetch={false}
          >
            <!-- <Avatar class="w-8 h-8 border">
              <AvatarImage src="/placeholder-user.jpg" alt="Image" />
              <AvatarFallback>MJ</AvatarFallback>
            </Avatar> -->
            <div class="flex-1 overflow-hidden">
              <div class="font-medium truncate">Michael Johnson</div>
              <div class="text-muted-foreground truncate">Awesome, I'll be there.</div>
            </div>
          </a>
          <a
            routerLink="#"
            class="flex items-center gap-3 rounded-lg px-3 py-2 text-muted-foreground transition-all hover:text-primary"
            prefetch={false}
          >
            <!-- <Avatar class="w-8 h-8 border">
              <AvatarImage src="/placeholder-user.jpg" alt="Image" />
              <AvatarFallback>EW</AvatarFallback>
            </Avatar> -->
            <div class="flex-1 overflow-hidden">
              <div class="font-medium truncate">Emily Wilson</div>
              <div class="text-muted-foreground truncate">Can't wait to catch up!</div>
            </div>
          </a>
          <a
            routerLink="#"
            class="flex items-center gap-3 rounded-lg px-3 py-2 text-muted-foreground transition-all hover:text-primary"
            prefetch={false}
          >
            <!-- <Avatar class="w-8 h-8 border">
              <AvatarImage src="/placeholder-user.jpg" alt="Image" />
              <AvatarFallback>RG</AvatarFallback>
            </Avatar> -->
            <div class="flex-1 overflow-hidden">
              <div class="font-medium truncate">Ryan Garcia</div>
              <div class="text-muted-foreground truncate">Let me know if you need anything.</div>
            </div>
          </a>
        </nav>
      </div>
    </div>
  </div>
  <div class="flex flex-col flex-1">
    <header class="flex h-14 lg:h-[60px] items-center gap-4 border-b bg-muted/40 px-6">
      <a routerLink="#" class="lg:hidden" prefetch={false}>
        <!-- <MessageSquareIcon class="h-6 w-6" /> -->
        <svg
        xmlns="http://www.w3.org/2000/svg"
        width="24"
        height="24"
        viewBox="0 0 24 24"
        fill="none"
        stroke="currentColor"
        strokeWidth="2"
        strokeLinecap="round"
        strokeLinejoin="round"
      >
        <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" />
      </svg>


        <span class="sr-only">Chat</span>
      </a>
      <div class="flex items-center gap-4">
        <!-- <Avatar class="w-8 h-8 border">
          <AvatarImage src="/placeholder-user.jpg" alt="Image" />
          <AvatarFallback>JD</AvatarFallback>
        </Avatar> -->
        <div class="flex-1">
          <div class="font-medium">John Doe</div>
          <div class="text-muted-foreground text-sm">Online</div>
        </div>
      </div>
      <div class="ml-auto flex items-center gap-2">
        <Button variant="ghost" size="icon" class="h-8 w-8">
          <!-- <PhoneIcon class="h-4 w-4" /> -->
          <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          strokeWidth="2"
          strokeLinecap="round"
          strokeLinejoin="round"
        >
          <path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z" />
        </svg>


          <span class="sr-only">Call</span>
        </Button>
        <Button variant="ghost" size="icon" class="h-8 w-8">
          <!-- <VideoIcon class="h-4 w-4" /> -->
          <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          strokeWidth="2"
          strokeLinecap="round"
          strokeLinejoin="round"
        >
          <path d="m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5" />
          <rect x="2" y="6" width="14" height="12" rx="2" />
        </svg>


          <span class="sr-only">Video</span>
        </Button>
        <Button variant="ghost" size="icon" class="h-8 w-8">
          <!-- <MoveHorizontalIcon class="h-4 w-4" /> -->
          <span class="sr-only">More</span>
        </Button>
      </div>
    </header>
    <main class="flex-1 overflow-auto p-4 md:p-6">
      <div class="grid gap-4">
        <div class="flex items-start gap-4">
          <!-- <Avatar class="w-8 h-8 border">
            <AvatarImage src="/placeholder-user.jpg" alt="Image" />
            <AvatarFallback>JD</AvatarFallback>
          </Avatar> -->
          <div class="grid gap-1 text-sm">
            <div class="font-medium">John Doe</div>
            <div class="bg-muted rounded-lg p-3">
              Hey, how's it going? I wanted to check in and see if you're free to chat later today.
            </div>
            <div class="text-xs text-muted-foreground">3:45 PM</div>
          </div>
        </div>
        <div class="flex items-start gap-4 justify-end">
          <div class="grid gap-1 text-sm">
            <div class="font-medium text-right">You</div>
            <div class="bg-primary rounded-lg p-3 text-primary-foreground">
              Sounds good! I'm available anytime after 4pm. Looking forward to catching up.
            </div>
            <div class="text-xs text-muted-foreground text-right">3:47 PM</div>
          </div>
          <!-- <Avatar class="w-8 h-8 border">
            <AvatarImage src="/placeholder-user.jpg" alt="Image" />
            <AvatarFallback>YO</AvatarFallback>
          </Avatar> -->
        </div>
        <div class="flex items-start gap-4">
          <!-- <Avatar class="w-8 h-8 border">
            <AvatarImage src="/placeholder-user.jpg" alt="Image" />
            <AvatarFallback>JD</AvatarFallback>
          </Avatar> -->
          <div class="grid gap-1 text-sm">
            <div class="font-medium">John Doe</div>
            <div class="bg-muted rounded-lg p-3">Great, I'll send you a calendar invite. Talk to you then!</div>
            <div class="text-xs text-muted-foreground">3:48 PM</div>
          </div>
        </div>
      </div>
    </main>
    <div class="max-w-2xl w-full sticky bottom-0 mx-auto py-2 flex flex-col gap-1.5 px-4 bg-background">
      <div class="relative">
        <textarea
        placeholder="Type your message..."
        name="message"
        id="message"
        rows="1"
        class="min-h-[48px] rounded-2xl resize-none p-4 border border-neutral-400 shadow-sm pr-16"
      ></textarea>
        <Button type="submit" size="icon" class="absolute w-8 h-8 top-3 right-3">
          <!-- <SendIcon class="w-4 h-4" /> -->

          <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          strokeWidth="2"
          strokeLinecap="round"
          strokeLinejoin="round"
        >
          <path d="m22 2-7 20-4-9-9-4Z" />
          <path d="M22 2 11 13" />
        </svg>

          <span class="sr-only">Send</span>
        </Button>
      </div>
    </div>
  </div>
</div>
